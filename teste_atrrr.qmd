---
title: "Terceiro Teste de Raspagem no Bluesky"
author: "Yasmin Messias Lins"
lang: pt-br
format: html
execute: 
  cache: false
---

```{r}
library(atrrr)
library(jsonlite)
library(tibble)

```

```{r}
dados <- get_skeets_authored_by(actor = "yasmelinss.bsky.social", parse = TRUE) |>
  dplyr::glimpse()
```

```{r}
as_tibble(dados)
```

```{r}
toJSON(dados, pretty = TRUE)
```



```{r}
#feeds <- get_feeds_created_by(actor = "shieda.bsky.social") 

# Filtering for a specific keyword, for example "#rstats"
#rstat_feed <- feeds |>
#  filter(displayName == "#leagueoflegends")

# Extracting posts from this curated feed
#rstat_posts <- get_feed(rstat_feed$uri, limit = 200) |>
#  dplyr::glimpse()
```

Um "skeet" na Bluesky é um termo informal usado para descrever uma postagem ou publicação, equivalente ao "tweet" do X (antigo Twitter)

```{r}
toJSON(get_likes(
post_url = 'at://did:plc:g4efut5lyfkz6wxoejsuo2dw/app.bsky.feed.post/3m2iaytbuxk2q',
limit = 25L,
cursor = NULL,
parse = TRUE,
verbose = NULL,
.token = NULL
), pretty = TRUE)
```
```{r}

toJSON(get_reposts(
post_url = 'at://did:plc:2d5tigfjv3z4zxadq7z3vcoe/app.bsky.feed.post/3m2kh4cgtk22q',
limit = 25L,
cursor = NULL,
parse = TRUE,
verbose = NULL,
.token = NULL
), pretty = TRUE)

```
```{r}

toJSON(get_thread(
post_url = 'https://bsky.app/profile/pupn1k.bsky.social/post/3m2kh4cgtk22q',
.token = NULL
), pretty = TRUE)

```


Get likes/reposts of a skeet
 
get_thread Get all skeets in a thread
Description
Retrieve all skeets in a thread (all replies to an original skeet by any author). It does not matter if
you use the original skeet or any reply as post_url.
Usage
get_thread(post_url, .token = NULL)



